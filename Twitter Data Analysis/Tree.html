<!DOCTYPE html>
<html>
<head>
<title>W13 Tree Maps</title>

<style>
.node {
border: solid 1px white;
  overflow: hidden;
  position: absolute;
}

.node1 {
border: solid 1px white;
  overflow: hidden;
  position: absolute;
}



</style>

</head>
<body>
<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>


<h1 align="center">W13 Lab Assignment</h1>

<h2>Tree Map</h2>
<div>
<h3>Tier 1</h3>

<script type="text/javascript">
var tier_1 = {
  "name": "flare", 
  "children": [
{"name": "analytics", "size": 48716}, 
{"name": "animate", "size": 100024}, 
{"name": "data", "size": 30284}, 
{"name": "display", "size": 24254}, 
{"name": "flex", "size": 4116}, 
{"name": "physics", "size": 29934}, 
{"name": "query", "size": 89721}, 
{"name": "scale", "size": 31294}, 
{"name": "util", "size": 165157}, 
{"name": "vis", "size": 432629}
 ]
};


function position() {
  this.style("left", function(d) { return d.x + "px"; })
  .style("top", function(d) { return d.y + "px"; })
  .style("width", function(d) { return Math.max(0, d.dx - 1) + "px"; })
  .style("height", function(d) { return Math.max(0, d.dy - 1) + "px"; });
}

var color = d3.scale.category20c();
var treemap = d3.layout.treemap()
				.size([910, 450])
				.sticky(true)
				.value(function(d) { return d.size; });
				
var div = d3.select("body").append("div")
			.style("position", "relative")
			.style("width", "910px")
			.style("height", "450px");



var node1 = div.datum(tier_1).selectAll(".node")
			.data(treemap.nodes).enter()
			.append("div")
			.attr("class", "node")
			.call(position)
			.style("background", function(d) { return color(d.name); })
			.style("font-size", function(d) { return Math.max(21, Math.log(d.area))+'px'; })
			.text(function(d) { return d.name; });

</script>

</div>



<div>
<h3>Tier 2 </h3>	

<script type="text/javascript">

 var json;
    d3.json("tier_2.json", function(error,d) {
    json = d;
    console.log(json);



/*var tier_2_var = this.http.get('http://localhost/')
 .success((data) => console.log(data));*/
//var tier_2_var=$.getJSON("tier_2.json");

function position1() {
  this.style("left", function(d) { return d.x + "px"; })
  .style("top", function(d) { return d.y + "px"; })
  .style("width", function(d) { return Math.max(0, d.dx - 1) + "px"; })
  .style("height", function(d) { return Math.max(0, d.dy - 1) + "px"; });
}

var color = d3.scale.category20b();
var treemap = d3.layout.treemap()
				.size([910, 450])
				.sticky(true)
				.value(function(d) { return d.size; });
				
var div = d3.select("body").append("div")
			.style("position", "relative")
			.style("width", "910px")
			.style("height", "450px");



var node = div.datum(json).selectAll(".node")
			.data(treemap.nodes).enter()
			.append("div")
			.attr("class", "node")
			.call(position1)
			.style("background", function(d) { return color(d.name); })
			.style("font-size", function(d) { return Math.max(21, Math.log(d.area))+'px'; })
			.text(function(d) { return d.name; });



});

</script>
</div>			
</body>
</html>